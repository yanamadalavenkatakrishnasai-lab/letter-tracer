#!/usr/bin/env python3
"""
LetterTracer Icon FIX script.
Run in Codespaces terminal:
  python3 fix.py
  git add -A && git commit -m "fix icons" && git push
"""
import base64, os

# Step 1: Delete the bad XML files from mipmap folders
bad_files = [
    "app/src/main/res/mipmap-mdpi/ic_launcher.xml",
    "app/src/main/res/mipmap-mdpi/ic_launcher_round.xml",
    "app/src/main/res/mipmap-hdpi/ic_launcher.xml",
    "app/src/main/res/mipmap-hdpi/ic_launcher_round.xml",
    "app/src/main/res/mipmap-xhdpi/ic_launcher.xml",
    "app/src/main/res/mipmap-xhdpi/ic_launcher_round.xml",
    "app/src/main/res/mipmap-xxhdpi/ic_launcher.xml",
    "app/src/main/res/mipmap-xxhdpi/ic_launcher_round.xml",
    "app/src/main/res/mipmap-xxxhdpi/ic_launcher.xml",
    "app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.xml",
]
for f in bad_files:
    if os.path.exists(f):
        os.remove(f)
        print(f"  ðŸ—‘ Deleted {f}")

# Step 2: Create correct PNG icons + anydpi-v26 adaptive icons
FILES = {
    'app/src/main/res/mipmap-mdpi/ic_launcher.png': 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAiElEQVR42u3YQRKAIAhAUU/Svkt4iE7ctlPZBZQKwhj6DEuRNy7EsSzrFioLIECAAAUG1WP3S0C/ALVeKHp391GekN002iELyGgSahOB1Ca5KhdIYbpcnw406nE/3h8d4UAWk9dwDQfSmXyfH3LLD0BC10dXQ2oQT1hAgAABigLiwwoQIEAz8gRedhA6mNlDPgAAAABJRU5ErkJggg==',
    'app/src/main/res/mipmap-mdpi/ic_launcher_round.png': 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAiElEQVR42u3YQRKAIAhAUU/Svkt4iE7ctlPZBZQKwhj6DEuRNy7EsSzrFioLIECAAAUG1WP3S0C/ALVeKHp391GekN002iELyGgSahOB1Ca5KhdIYbpcnw406nE/3h8d4UAWk9dwDQfSmXyfH3LLD0BC10dXQ2oQT1hAgAABigLiwwoQIEAz8gRedhA6mNlDPgAAAABJRU5ErkJggg==',
    'app/src/main/res/mipmap-hdpi/ic_launcher.png': 'iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAIAAADajyQQAAAAyklEQVR42u3awQ3DIAwAwEzSf5fIEJ24306VjhBD7ULIId7GJ0RiLLbH87Xk3MDAwMDAwMDAwMB+hO2f9zwTDAwMbDjsOBuJeZ+ulbxj/7FFVgELn7FqWzA+WMtXsc4WjwzW+B+rsDXFBGuvPHJtrdHAumrFLFtHHLDe6v6oH2OuLcvCqm0jL5rLwups41sDy8IqbLM0c5aF5drmar/F070YLJhxSiEGltcJrj5dWtxgYGBgYGBgYGBgYLeDeYgJBgYGBgYGBnY/2BfPUE46q29RRwAAAABJRU5ErkJggg==',
    'app/src/main/res/mipmap-hdpi/ic_launcher_round.png': 'iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAIAAADajyQQAAAAyklEQVR42u3awQ3DIAwAwEzSf5fIEJ24306VjhBD7ULIId7GJ0RiLLbH87Xk3MDAwMDAwMDAwMB+hO2f9zwTDAwMbDjsOBuJeZ+ulbxj/7FFVgELn7FqWzA+WMtXsc4WjwzW+B+rsDXFBGuvPHJtrdHAumrFLFtHHLDe6v6oH2OuLcvCqm0jL5rLwups41sDy8IqbLM0c5aF5drmar/F070YLJhxSiEGltcJrj5dWtxgYGBgYGBgYGBgYLeDeYgJBgYGBgYGBnY/2BfPUE46q29RRwAAAABJRU5ErkJggg==',
    'app/src/main/res/mipmap-xhdpi/ic_launcher.png': 'iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAABD0lEQVR42u3cwQ3DIBAEQFeSf5pIEanY31SVdJAIMLCnjLVvDkaWJeDk43Z/ypccCAABAgQIECBAgAQQIECAAAECBOhHHq+zbgABAgQIECBAgAaA3i3PgjU3zWfRG5Rj1DoTQBlAIUYdcwAUA7TdqK86oCSgjUbddQGFAW0xGqkIKA9osdFgLUCRQMuMxqsASgVaYHTJ+ICCgaYaXTVyJaB5T/SZdLIOoApAe41qXPsAOjONKl0cAoozqnf1DCjIqGrzAqBZe6h5ezpABfuDWlc79dgEUM0Os+3fZkB6FDVxAgIECBAgQIAAAQIECBAgQIAAAQIECNA/Avl/kAACBAgQIECAAAkgQIAAAQJUNx/8VUUITDVxgQAAAABJRU5ErkJggg==',
    'app/src/main/res/mipmap-xhdpi/ic_launcher_round.png': 'iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAABD0lEQVR42u3cwQ3DIBAEQFeSf5pIEanY31SVdJAIMLCnjLVvDkaWJeDk43Z/ypccCAABAgQIECBAgAQQIECAAAECBOhHHq+zbgABAgQIECBAgAaA3i3PgjU3zWfRG5Rj1DoTQBlAIUYdcwAUA7TdqK86oCSgjUbddQGFAW0xGqkIKA9osdFgLUCRQMuMxqsASgVaYHTJ+ICCgaYaXTVyJaB5T/SZdLIOoApAe41qXPsAOjONKl0cAoozqnf1DCjIqGrzAqBZe6h5ezpABfuDWlc79dgEUM0Os+3fZkB6FDVxAgIECBAgQIAAAQIECBAgQIAAAQIECNA/Avl/kAACBAgQIECAAAkgQIAAAQJUNx/8VUUITDVxgQAAAABJRU5ErkJggg==',
    'app/src/main/res/mipmap-xxhdpi/ic_launcher.png': 'iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAIAAABoJHXvAAABwklEQVR42u3csXECQQyGUSohpwkX4YpJqcrOnDmTdv/VPuYrQHdvPGDY0+P5+tZBPdwCYAImYMAETMCACZiAARMwAQMmYAIGTMAEDJiACRgwAVMg2Nfnrf8CBgwYMAEDBgyYgAEDBowKMGDAgP31U/EKvNcl1xX6FzbPrOqKgAEreg+bZFZ4LcCA1X1KnGFWexXAgJX+H3a6Wfn8wIBVf9NxrlnH5MCANXyXeKJZ08zAgPV8W3+WWd+0wIC1/R52ilnrnMCAdf7inG/WPSEwYM1nOpLNFswGDFj/qalMszVTAQO25FximtmyeYABW3XyN8ds5SS3g+W8rjhbf5sWMGDLn165SgsYsB3Ph92jBQzYpicwL9ECBmzfM843aAEDtnWLwHgtYMB27+mYrQUMWMAmnMFawIBl7JqaqgUMWMw2t9r7m3N+BBiwmH2JVXc56kgdMGBJG0nHfNYABix15+8kLWDAbNW2Bl3AgAEDJmDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAETMGDAgCkbTAsCBkzABAyYgAkYMAETMGACJmDABEzAgAmYgAETMAEDpuB+AWFHu3OOU11aAAAAAElFTkSuQmCC',
    'app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png': 'iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAIAAABoJHXvAAABwklEQVR42u3csXECQQyGUSohpwkX4YpJqcrOnDmTdv/VPuYrQHdvPGDY0+P5+tZBPdwCYAImYMAETMCACZiAARMwAQMmYAIGTMAEDJiACRgwAVMg2Nfnrf8CBgwYMAEDBgyYgAEDBowKMGDAgP31U/EKvNcl1xX6FzbPrOqKgAEreg+bZFZ4LcCA1X1KnGFWexXAgJX+H3a6Wfn8wIBVf9NxrlnH5MCANXyXeKJZ08zAgPV8W3+WWd+0wIC1/R52ilnrnMCAdf7inG/WPSEwYM1nOpLNFswGDFj/qalMszVTAQO25FximtmyeYABW3XyN8ds5SS3g+W8rjhbf5sWMGDLn165SgsYsB3Ph92jBQzYpicwL9ECBmzfM843aAEDtnWLwHgtYMB27+mYrQUMWMAmnMFawIBl7JqaqgUMWMw2t9r7m3N+BBiwmH2JVXc56kgdMGBJG0nHfNYABix15+8kLWDAbNW2Bl3AgAEDJmDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAETMGDAgCkbTAsCBkzABAyYgAkYMAETMGACJmDABEzAgAmYgAETMAEDpuB+AWFHu3OOU11aAAAAAElFTkSuQmCC',
    'app/src/main/res/mipmap-xxxhdpi/ic_launcher.png': 'iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAIAAADdvvtQAAAClklEQVR42u3dy23CQBRAUSrJniYoIhWzpSqyJVJQAs683xzrFoDfHPG35/Rx/pTe7mQEAkgACSABJAEkgASQAJIAEkACSABJAAkgASSAJIAEkAASQAJIAkgACSABJAEkgASQAJIAEkDaEtDldlVWAAkgCwkQQAABBBBAAkgAAQQQQAABJIAEEEAAAQQQQAJIAAEE0D93X3kMWOOl8xnyDMRQip45L2EAAXT0PRBD8XoAAgigh09hDAXrAQgggL5/D8RQ8BwAAgigpNnRAxBAAP30W9jOhoLPHSCAACowxz31AAQQQM//D7SboZTzBQgggIrNdB89AAEE0G//id7BUOI5AgQQQIXnO1sPQAAB9LfrwqYaSj8vgAACqMms5+kBCCCAXrk2fpKhIucCEEAANZz7DD0AAQTQ6/cH6m6o1OMHCCCAmq9B60cOEEAA1VuJjoebbAIEUOxdWqE5/rILkAOgqu9Jx+sBCCCADt+pnh6AAAIoda8MegACCKDU3XroAQgggFL3C6MHIIAASt2xkB6AAAIodc9UegACCKDUXZvpAQgggFL3jacHIIAAygM0z9CiKQEEEEA9r+IboAegQpeBAjQQUNi6NtUDEEAALQYUsLp99QAEEEDrAfX9OBYwGYAAAqj/fS2b6gEIIICiAPUyFDYTgAACqN4O3PsEkACykAABBBBAAAEkgAQQQAABBBBAAkgAAQQQQAABJIAEEEAAAQQQQAJIAAEEEEAAAQQQQAJIAAEEEEAAASSABBBAAAEEEEACSAABBBBAAAEkgAQQQAABBBBAAAGkrQFpcAAJIAEkgASQBJAAEkACSAJIAAkgASQBJIAEkACSABJAAkgACSAJIAEkgASQBJAAEkACSAJIS/oCmCk71uvwDDUAAAAASUVORK5CYII=',
    'app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png': 'iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAIAAADdvvtQAAAClklEQVR42u3dy23CQBRAUSrJniYoIhWzpSqyJVJQAs683xzrFoDfHPG35/Rx/pTe7mQEAkgACSABJAEkgASQAJIAEkACSABJAAkgASSAJIAEkAASQAJIAkgACSABJAEkgASQAJIAEkDaEtDldlVWAAkgCwkQQAABBBBAAkgAAQQQQAABJIAEEEAAAQQQQAJIAAEE0D93X3kMWOOl8xnyDMRQip45L2EAAXT0PRBD8XoAAgigh09hDAXrAQgggL5/D8RQ8BwAAgigpNnRAxBAAP30W9jOhoLPHSCAACowxz31AAQQQM//D7SboZTzBQgggIrNdB89AAEE0G//id7BUOI5AgQQQIXnO1sPQAAB9LfrwqYaSj8vgAACqMms5+kBCCCAXrk2fpKhIucCEEAANZz7DD0AAQTQ6/cH6m6o1OMHCCCAmq9B60cOEEAA1VuJjoebbAIEUOxdWqE5/rILkAOgqu9Jx+sBCCCADt+pnh6AAAIoda8MegACCKDU3XroAQgggFL3C6MHIIAASt2xkB6AAAIodc9UegACCKDUXZvpAQgggFL3jacHIIAAygM0z9CiKQEEEEA9r+IboAegQpeBAjQQUNi6NtUDEEAALQYUsLp99QAEEEDrAfX9OBYwGYAAAqj/fS2b6gEIIICiAPUyFDYTgAACqN4O3PsEkACykAABBBBAAAEkgAQQQAABBBBAAkgAAQQQQAABJIAEEEAAAQQQQAJIAAEEEEAAAQQQQAJIAAEEEEAAASSABBBAAAEEEEACSAABBBBAAAEkgAQQQAABBBBAAAGkrQFpcAAJIAEkgASQBJAAEkACSAJIAAkgASQBJIAEkACSABJAAkgACSAJIAEkgASQBJAAEkACSAJIS/oCmCk71uvwDDUAAAAASUVORK5CYII=',
    'app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml': 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPGFkYXB0aXZlLWljb24geG1sbnM6YW5kcm9pZD0iaHR0cDovL3NjaGVtYXMuYW5kcm9pZC5jb20vYXBrL3Jlcy9hbmRyb2lkIj4KICAgIDxiYWNrZ3JvdW5kIGFuZHJvaWQ6ZHJhd2FibGU9IkBkcmF3YWJsZS9pY19sYXVuY2hlcl9iYWNrZ3JvdW5kIi8+CiAgICA8Zm9yZWdyb3VuZCBhbmRyb2lkOmRyYXdhYmxlPSJAZHJhd2FibGUvaWNfbGF1bmNoZXJfZm9yZWdyb3VuZCIvPgo8L2FkYXB0aXZlLWljb24+',
    'app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml': 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPGFkYXB0aXZlLWljb24geG1sbnM6YW5kcm9pZD0iaHR0cDovL3NjaGVtYXMuYW5kcm9pZC5jb20vYXBrL3Jlcy9hbmRyb2lkIj4KICAgIDxiYWNrZ3JvdW5kIGFuZHJvaWQ6ZHJhd2FibGU9IkBkcmF3YWJsZS9pY19sYXVuY2hlcl9iYWNrZ3JvdW5kIi8+CiAgICA8Zm9yZWdyb3VuZCBhbmRyb2lkOmRyYXdhYmxlPSJAZHJhd2FibGUvaWNfbGF1bmNoZXJfZm9yZWdyb3VuZCIvPgo8L2FkYXB0aXZlLWljb24+',
}
for path, b64 in FILES.items():
    os.makedirs(os.path.dirname(path), exist_ok=True)
    with open(path, "wb") as f:
        f.write(base64.b64decode(b64))
    print(f"  âœ“ {path}")

print("")
print("âœ… Icons fixed! Now run:")
print("   git add -A && git commit -m \"fix icons\" && git push")